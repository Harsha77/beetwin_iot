const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DQgmgRjw.js","assets/@vue-6KHaxNJ6.js","assets/Download-Chzou-sw.js","assets/vue-router-CPl752RW.js","assets/axios-C_yEy3-Q.js","assets/frappe-ui-CIwioayB.js","assets/echarts-CbA4AjIf.js","assets/tslib-BDyQ-Jie.js","assets/zrender-B8kCopLz.js","assets/socket.io-client-o9UT993-.js","assets/engine.io-client-DoYcFuH8.js","assets/engine.io-parser-QVnBb3PJ.js","assets/@socket.io-Dkula2eQ.js","assets/socket.io-parser-4mvwibnP.js","assets/@tiptap-BhO_3mwo.js","assets/prosemirror-dropcursor-DdDve3OF.js","assets/prosemirror-state-C0OblyT9.js","assets/prosemirror-model-CDAhqB4x.js","assets/orderedmap-C4TimWWB.js","assets/prosemirror-transform-DiPrUp-3.js","assets/prosemirror-gapcursor-B9ns80ZN.js","assets/prosemirror-keymap-BJ3QP8hu.js","assets/w3c-keyname-SJlxdkTY.js","assets/prosemirror-view-Dw0L6lI7.js","assets/prosemirror-history-4Kh61WTt.js","assets/rope-sequence-Cxv9J64N.js","assets/prosemirror-tables-Cnk26J7e.js","assets/linkifyjs-85EWwGDS.js","assets/prosemirror-commands-CZrlb0Rg.js","assets/prosemirror-schema-list-CPI4UhYk.js","assets/showdown-4mCZrU_9.js","assets/feather-icons-09G7fcws.js","assets/dayjs-CfxXAJTb.js","assets/idb-keyval-BeXAubRj.js","assets/@vueuse-moBmYcJ4.js","assets/reka-ui-jlgPPgUe.js","assets/@floating-ui-CoOhG2Tb.js","assets/vue-puX4Qeud.js","assets/tippy.js-BfW9tSbp.js","assets/@popperjs-DEdMZ52H.js","assets/@headlessui-C4-e1rF0.js","assets/lowlight-CuXNySGc.js","assets/highlight.js-kvRu1DFi.js","assets/frappe-ui-DVY_gdL1.css","assets/xlsx-DAQG1NUx.js","assets/leaflet-CDkOlCyp.js","assets/leaflet-Dgihpmma.css","assets/Login-B4-KeHZ-.js","assets/Login-CzIK2LUL.css","assets/DeviceDetails-B-oMPaJX.js","assets/vue-echarts-DSvovFkh.js","assets/html2canvas-CIV5arX1.js","assets/DeviceDetails-Cx_Sy4PR.css"])))=>i.map(i=>d[i]);
import{m as _,c as h,O as L,C as v,D as y,P as T,a0 as E}from"./@vue-6KHaxNJ6.js";import{c as d,_ as p,a as w,s as I,r as P,b as O,C as b,I as R,f as A}from"./frappe-ui-CIwioayB.js";import{c as C,a as D}from"./vue-router-CPl752RW.js";import"./echarts-CbA4AjIf.js";import"./socket.io-client-o9UT993-.js";import"./leaflet-CDkOlCyp.js";import"./@tiptap-BhO_3mwo.js";import"./prosemirror-dropcursor-DdDve3OF.js";import"./prosemirror-state-C0OblyT9.js";import"./prosemirror-model-CDAhqB4x.js";import"./orderedmap-C4TimWWB.js";import"./prosemirror-transform-DiPrUp-3.js";import"./prosemirror-gapcursor-B9ns80ZN.js";import"./prosemirror-keymap-BJ3QP8hu.js";import"./w3c-keyname-SJlxdkTY.js";import"./prosemirror-view-Dw0L6lI7.js";import"./prosemirror-history-4Kh61WTt.js";import"./rope-sequence-Cxv9J64N.js";import"./prosemirror-tables-Cnk26J7e.js";import"./linkifyjs-85EWwGDS.js";import"./prosemirror-commands-CZrlb0Rg.js";import"./prosemirror-schema-list-CPI4UhYk.js";import"./showdown-4mCZrU_9.js";import"./feather-icons-09G7fcws.js";import"./dayjs-CfxXAJTb.js";import"./idb-keyval-BeXAubRj.js";import"./@vueuse-moBmYcJ4.js";import"./reka-ui-jlgPPgUe.js";import"./@floating-ui-CoOhG2Tb.js";import"./vue-puX4Qeud.js";import"./tippy.js-BfW9tSbp.js";import"./@popperjs-DEdMZ52H.js";import"./@headlessui-C4-e1rF0.js";import"./lowlight-CuXNySGc.js";import"./highlight.js-kvRu1DFi.js";import"./tslib-BDyQ-Jie.js";import"./zrender-B8kCopLz.js";import"./engine.io-client-DoYcFuH8.js";import"./engine.io-parser-QVnBb3PJ.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-4mvwibnP.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const u=d({url:"frappe.auth.get_logged_user",cache:"User",onError(e){e&&e.exc_type==="AuthenticationError"&&m.push({name:"LoginPage"})}});function l(){let r=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return r==="Guest"&&(r=null),r}const t=_({login:d({url:"login",makeParams({email:e,password:r}){return{usr:e,pwd:r}},onSuccess(e){u.reload(),t.user=l(),t.login.reset(),m.replace(e.default_route||"/"),f()}}),logout:d({url:"logout",onSuccess(){u.reset(),t.user=l(),m.replace({name:"Login"}),t.logoutTimeout&&clearTimeout(t.logoutTimeout)}}),user:l(),isLoggedIn:h(()=>!!t.user),logoutTimeout:null});function f(){t.logoutTimeout&&clearTimeout(t.logoutTimeout),t.logoutTimeout=setTimeout(()=>{t.logout.submit()},18e5)}function g(){f()}["mousemove","keydown","scroll","click"].forEach(e=>{window.addEventListener(e,g)});u.onSuccess=()=>{f()};window.addEventListener("beforeunload",()=>{t.logoutTimeout&&clearTimeout(t.logoutTimeout),["mousemove","keydown","scroll","click"].forEach(e=>{window.removeEventListener(e,g)})});const k=[{path:"/",name:"Home",component:()=>p(()=>import("./Home-DQgmgRjw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]))},{name:"Login",path:"/account/login",component:()=>p(()=>import("./Login-B4-KeHZ-.js"),__vite__mapDeps([47,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,3,40,41,42,43,45,46,48]))},{name:"DeviceDetails",path:"/device/:deviceId",component:()=>p(()=>import("./DeviceDetails-B-oMPaJX.js"),__vite__mapDeps([49,1,2,3,4,44,45,31,46,50,6,7,8,51,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,52]))}];let m=C({history:D("/iotweet-dashboard"),routes:k});m.beforeEach(async(e,r,s)=>{let n=t.isLoggedIn;try{await u.promise}catch(o){n=!1}e.name==="Login"&&n?s({name:"Home"}):e.name!=="Login"&&!n?s({name:"Login"}):s()});const S={};function N(e,r){const s=L("router-view");return y(),v("div",null,[T(s)])}const U=w(S,[["render",N]]);let c=E(U);I("resourceFetcher",A);c.use(m);c.use(P);c.component("Button",O);c.component("Card",b);c.component("Input",R);c.mount("#app");export{t as s};
