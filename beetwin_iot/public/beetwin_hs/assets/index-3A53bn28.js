const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Bzt6E6jk.js","assets/@vue-D0TGCZL2.js","assets/Download-D1HoHf0Z.js","assets/vue-router-DxnAzFk_.js","assets/axios-ByivMYyX.js","assets/frappe-ui-SSzMBOOI.js","assets/@tiptap-BUCYMH7K.js","assets/prosemirror-state-DgsmxDjm.js","assets/prosemirror-model-C_7RDaDb.js","assets/prosemirror-transform-DoYUQK9o.js","assets/prosemirror-dropcursor-BfstMEHz.js","assets/prosemirror-gapcursor-DAo5-j_C.js","assets/prosemirror-keymap-CVi9LBYH.js","assets/w3c-keyname-_MXnRwJa.js","assets/prosemirror-view-W--SXXbD.js","assets/prosemirror-history-DKyN9Nbl.js","assets/rope-sequence-DGojYqW9.js","assets/prosemirror-tables-DrV9oBPp.js","assets/linkifyjs-Bb8FdQht.js","assets/prosemirror-commands-Lnq4s3Q2.js","assets/prosemirror-schema-list-B9x1aVA0.js","assets/showdown-Dkx33vR8.js","assets/socket.io-client-De6w114h.js","assets/engine.io-client-CveMJrUI.js","assets/engine.io-parser-6vJSFETq.js","assets/@socket.io-Dkula2eQ.js","assets/socket.io-parser-D89bkXp7.js","assets/idb-keyval-BrH4ksw2.js","assets/frappe-ui-B50Cm8uR.css","assets/xlsx-DaVhO591.js","assets/leaflet-BUr-PN-6.js","assets/leaflet-BsKQokkr.css","assets/Login-BDPJhBX9.js","assets/Login-BS4cN_wZ.css","assets/DeviceDetails-BX2w2T7F.js","assets/vue-echarts-DMS_o-FG.js","assets/echarts-CGNzQbEM.js","assets/tslib-BDyQ-Jie.js","assets/zrender-c6l8Dm-q.js","assets/html2canvas-CIV5arX1.js","assets/DeviceDetails-CXo2zvgU.css"])))=>i.map(i=>d[i]);
import{p as _,b as h,i as L,o as v,c as y,j as T,H as E}from"./@vue-D0TGCZL2.js";import{a as d,_ as l,b as w,r as I,d as P,C as b,I as O,s as R,f as A}from"./frappe-ui-SSzMBOOI.js";import{c as k,a as C}from"./vue-router-DxnAzFk_.js";import"./@tiptap-BUCYMH7K.js";import"./showdown-Dkx33vR8.js";import"./socket.io-client-De6w114h.js";import"./leaflet-BUr-PN-6.js";import"./prosemirror-state-DgsmxDjm.js";import"./prosemirror-model-C_7RDaDb.js";import"./prosemirror-transform-DoYUQK9o.js";import"./idb-keyval-BrH4ksw2.js";import"./prosemirror-dropcursor-BfstMEHz.js";import"./prosemirror-gapcursor-DAo5-j_C.js";import"./prosemirror-keymap-CVi9LBYH.js";import"./w3c-keyname-_MXnRwJa.js";import"./prosemirror-view-W--SXXbD.js";import"./prosemirror-history-DKyN9Nbl.js";import"./rope-sequence-DGojYqW9.js";import"./prosemirror-tables-DrV9oBPp.js";import"./linkifyjs-Bb8FdQht.js";import"./prosemirror-commands-Lnq4s3Q2.js";import"./prosemirror-schema-list-B9x1aVA0.js";import"./engine.io-client-CveMJrUI.js";import"./engine.io-parser-6vJSFETq.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-D89bkXp7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const a=d({url:"frappe.auth.get_logged_user",cache:"User",onError(e){e&&e.exc_type==="AuthenticationError"&&u.push({name:"LoginPage"})}});function p(){let r=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return r==="Guest"&&(r=null),r}const t=_({login:d({url:"login",makeParams({email:e,password:r}){return{usr:e,pwd:r}},onSuccess(e){a.reload(),t.user=p(),t.login.reset(),u.replace(e.default_route||"/"),f()}}),logout:d({url:"logout",onSuccess(){a.reset(),t.user=p(),u.replace({name:"Login"}),t.logoutTimeout&&clearTimeout(t.logoutTimeout)}}),user:p(),isLoggedIn:h(()=>!!t.user),logoutTimeout:null});function f(){t.logoutTimeout&&clearTimeout(t.logoutTimeout),t.logoutTimeout=setTimeout(()=>{t.logout.submit()},3e5)}function g(){f()}["mousemove","keydown","scroll","click"].forEach(e=>{window.addEventListener(e,g)});a.onSuccess=()=>{f()};window.addEventListener("beforeunload",()=>{t.logoutTimeout&&clearTimeout(t.logoutTimeout),["mousemove","keydown","scroll","click"].forEach(e=>{window.removeEventListener(e,g)})});const D=[{path:"/",name:"Home",component:()=>l(()=>import("./Home-Bzt6E6jk.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]))},{name:"Login",path:"/account/login",component:()=>l(()=>import("./Login-BDPJhBX9.js"),__vite__mapDeps([32,1,5,3,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,30,31,33]))},{name:"DeviceDetails",path:"/device/:deviceId",component:()=>l(()=>import("./DeviceDetails-BX2w2T7F.js"),__vite__mapDeps([34,1,2,3,4,29,30,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,31,35,36,37,38,39,40]))}];let u=k({history:C("/beetwin_hs"),routes:D});u.beforeEach(async(e,r,s)=>{let n=t.isLoggedIn;try{await a.promise}catch(o){n=!1}e.name==="Login"&&n?s({name:"Home"}):e.name!=="Login"&&!n?s({name:"Login"}):s()});const S={};function H(e,r){const s=L("router-view");return v(),y("div",null,[T(s)])}const N=w(S,[["render",H]]);let c=E(N);R("resourceFetcher",A);c.use(u);c.use(I);c.component("Button",P);c.component("Card",b);c.component("Input",O);c.mount("#app");export{t as s};
