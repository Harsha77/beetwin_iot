const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-3M0G46Jr.js","assets/@vue-OOCCUuA2.js","assets/vue-router-DLGjB-Pd.js","assets/axios-ByivMYyX.js","assets/frappe-ui-zGBT8rMX.js","assets/@tiptap-BUCYMH7K.js","assets/prosemirror-state-DgsmxDjm.js","assets/prosemirror-model-C_7RDaDb.js","assets/prosemirror-transform-DoYUQK9o.js","assets/prosemirror-dropcursor-BfstMEHz.js","assets/prosemirror-gapcursor-DAo5-j_C.js","assets/prosemirror-keymap-CVi9LBYH.js","assets/w3c-keyname-_MXnRwJa.js","assets/prosemirror-view-W--SXXbD.js","assets/prosemirror-history-DKyN9Nbl.js","assets/rope-sequence-DGojYqW9.js","assets/prosemirror-tables-DrV9oBPp.js","assets/linkifyjs-Bb8FdQht.js","assets/prosemirror-commands-Lnq4s3Q2.js","assets/prosemirror-schema-list-B9x1aVA0.js","assets/showdown-D8SulXxm.js","assets/socket.io-client-De6w114h.js","assets/engine.io-client-CveMJrUI.js","assets/engine.io-parser-6vJSFETq.js","assets/@socket.io-Dkula2eQ.js","assets/socket.io-parser-D89bkXp7.js","assets/idb-keyval-BrH4ksw2.js","assets/frappe-ui-DKdnb3i5.css","assets/Home-HRV9mkih.css","assets/leaflet-BsKQokkr.css","assets/Login-BfzSsoLj.js","assets/Login-Cm3fCVs1.css"])))=>i.map(i=>d[i]);
import{p as _,b as h,i as L,o as v,c as y,j as T,A as w}from"./@vue-OOCCUuA2.js";import{a as p,_ as f,b as E,r as I,d as P,C as b,I as O,s as A,f as R}from"./frappe-ui-zGBT8rMX.js";import{c as k,a as C}from"./vue-router-DLGjB-Pd.js";import"./@tiptap-BUCYMH7K.js";import"./showdown-D8SulXxm.js";import"./socket.io-client-De6w114h.js";/* empty css                */import"./prosemirror-state-DgsmxDjm.js";import"./prosemirror-model-C_7RDaDb.js";import"./prosemirror-transform-DoYUQK9o.js";import"./idb-keyval-BrH4ksw2.js";import"./prosemirror-dropcursor-BfstMEHz.js";import"./prosemirror-gapcursor-DAo5-j_C.js";import"./prosemirror-keymap-CVi9LBYH.js";import"./w3c-keyname-_MXnRwJa.js";import"./prosemirror-view-W--SXXbD.js";import"./prosemirror-history-DKyN9Nbl.js";import"./rope-sequence-DGojYqW9.js";import"./prosemirror-tables-DrV9oBPp.js";import"./linkifyjs-Bb8FdQht.js";import"./prosemirror-commands-Lnq4s3Q2.js";import"./prosemirror-schema-list-B9x1aVA0.js";import"./engine.io-client-CveMJrUI.js";import"./engine.io-parser-6vJSFETq.js";import"./@socket.io-Dkula2eQ.js";import"./socket.io-parser-D89bkXp7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const a=p({url:"frappe.auth.get_logged_user",cache:"User",onError(e){e&&e.exc_type==="AuthenticationError"&&u.push({name:"LoginPage"})}});function l(){let r=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return r==="Guest"&&(r=null),r}const t=_({login:p({url:"login",makeParams({email:e,password:r}){return{usr:e,pwd:r}},onSuccess(e){a.reload(),t.user=l(),t.login.reset(),u.replace(e.default_route||"/"),d()}}),logout:p({url:"logout",onSuccess(){a.reset(),t.user=l(),u.replace({name:"Login"}),t.logoutTimeout&&clearTimeout(t.logoutTimeout)}}),user:l(),isLoggedIn:h(()=>!!t.user),logoutTimeout:null});function d(){t.logoutTimeout&&clearTimeout(t.logoutTimeout),t.logoutTimeout=setTimeout(()=>{t.logout.submit()},3e5)}function g(){d()}["mousemove","keydown","scroll","click"].forEach(e=>{window.addEventListener(e,g)});a.onSuccess=()=>{d()};window.addEventListener("beforeunload",()=>{t.logoutTimeout&&clearTimeout(t.logoutTimeout),["mousemove","keydown","scroll","click"].forEach(e=>{window.removeEventListener(e,g)})});const S=[{path:"/",name:"Home",component:()=>f(()=>import("./Home-3M0G46Jr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]))},{name:"Login",path:"/account/login",component:()=>f(()=>import("./Login-BfzSsoLj.js"),__vite__mapDeps([30,1,4,2,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,31,29]))}];let u=k({history:C("/vertive"),routes:S});u.beforeEach(async(e,r,s)=>{let n=t.isLoggedIn;try{await a.promise}catch(o){n=!1}e.name==="Login"&&n?s({name:"Home"}):e.name!=="Login"&&!n?s({name:"Login"}):s()});const N={};function U(e,r){const s=L("router-view");return v(),y("div",null,[T(s)])}const B=E(N,[["render",U]]);let c=w(B);A("resourceFetcher",R);c.use(u);c.use(I);c.component("Button",P);c.component("Card",b);c.component("Input",O);c.mount("#app");export{t as s};
